# DAM
Trabajo final de la materia "Desarrollo de aplicaciones multiplataforma" de la CEIoT de la UBA.

Este proyecto corre en docker pero el contenedor carace de una librería necesaria. Para subsanar esto, luego de ejecutar "docker compose up" en la carpeta raíz del proyecto, es necesario correr en la terminal el comando "docker exec -it node-backend bash" y a continuación ejecutar "npm install jsonwebtoken@8.5.1".
También hay que correr "docker exec -it ionic-ui bash" con docker levantado en esa misma carpeta raíz y luego ejecutar "npm install --save higcharts", ya que es necesario para que al ver los archivos del generador de la imagen gauge.

Hasta el momento, el proyecta con una página de inicio (http://localhost:8100/home) con un botón que redirige a la página http://localhost:8100/dispositivos donde se puede despegar una lista de dispositivo. Al momento en que se entra a esa página, se realiza una consulta GET a dicha dirección y devuelve la lisa de dispositivos. Esta lista se constuye con la directiva ngFor. La lista no se ve hasta que se haga click en el botón correspondiente, el cuál trabaja con una directiva ngIf, que muestra esa lista y otro boton que oculta la lista. Al mismo tiempo cuando se muestra la lista y el otro botón, el primero se oculta. En la lista se despliegan los 6 botones, dnde cada uno coresponde a un dispositivos de la base de dato. Al pasar por encima de estos botones con el mouse, estos toman color debido a una directia custom. Al hacer click sobre un botón, nos dirigimos a la página http://localhost:8100/dispositivos/id, que nos muestra la última medición de dicho dispositivo. Acá aprovecho a comentar que http://localhost:8100/dispositivos/id es el endpoint donde se consulta la historia de todas las mediciones del dispositivo "id". Para conseguir esa información se hace un llamado a la API http://localhost:8100/dispositivos/ultimaMedicion/:id, que tiene como filtro fecha más cercana y número de medición más alto (este último para desempartar en caso de que haya más de una edición con la misma fecha y hora). Aquí destaco el elemento Pipe custom, con el que se informa el estado del suelo en base al valor de la medición.  Hay otra API que toma los logs de cada medición.